{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/common.css' %}" />
{% endblock %}

{% block content %}
<div class="page-container">
    <div class="page-header">
        <h1 class="page-title">
            üîç Inspection Details - Room {{ inspection.room.room_number }}
        </h1>
        <div style="display: flex; gap: 10px;">
            <a href="{% url 'housekeeping-inspection-list' %}" class="btn btn-secondary">
                ‚Üê Back to Inspections
            </a>
        </div>
    </div>

    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 30px;">
        <!-- Main Information -->
        <div class="card">
            <div class="card-body">
                <h3 style="color: #667eea; margin-bottom: 20px; border-bottom: 2px solid #667eea; padding-bottom: 10px;">
                    üîç Inspection Information
                </h3>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                    <div>
                        <label style="display: block; font-weight: bold; color: #333; margin-bottom: 5px;">Room:</label>
                        <p style="margin: 0; padding: 10px; background: #f8f9fa; border-radius: 4px;">
                            <strong>Room {{ inspection.room.room_number }}</strong> ({{ inspection.room.room_type }})
                        </p>
                    </div>
                    <div>
                        <label style="display: block; font-weight: bold; color: #333; margin-bottom: 5px;">Inspector:</label>
                        <p style="margin: 0; padding: 10px; background: #f8f9fa; border-radius: 4px;">{{ inspection.inspector_name }}</p>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                    <div>
                        <label style="display: block; font-weight: bold; color: #333; margin-bottom: 5px;">Inspection Date:</label>
                        <p style="margin: 0; padding: 10px; background: #f8f9fa; border-radius: 4px;">{{ inspection.inspection_date|date:"M d, Y" }}</p>
                    </div>
                    <div>
                        <label style="display: block; font-weight: bold; color: #333; margin-bottom: 5px;">Inspection Time:</label>
                        <p style="margin: 0; padding: 10px; background: #f8f9fa; border-radius: 4px;">{{ inspection.inspection_time|default:"Not specified" }}</p>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                    <div>
                        <label style="display: block; font-weight: bold; color: #333; margin-bottom: 5px;">Status:</label>
                        <p style="margin: 0; padding: 10px; background: #f8f9fa; border-radius: 4px;">
                            <span class="status-badge status-{{ inspection.inspection_status|lower }}">
                                {{ inspection.get_inspection_status_display }}
                            </span>
                        </p>
                    </div>
                    {% if inspection.task %}
                    <div>
                        <label style="display: block; font-weight: bold; color: #333; margin-bottom: 5px;">Related Task:</label>
                        <p style="margin: 0; padding: 10px; background: #f8f9fa; border-radius: 4px;">
                            <a href="{% url 'housekeeping-task-detail' inspection.task.id %}" style="color: #667eea; text-decoration: none;">
                                {{ inspection.task.get_task_type_display }} - Room {{ inspection.task.room.room_number }}
                            </a>
                        </p>
                    </div>
                    {% endif %}
                </div>

                {% if inspection.notes %}
                <div style="margin-bottom: 25px;">
                    <label style="display: block; font-weight: bold; color: #333; margin-bottom: 5px;">Inspection Notes:</label>
                    <div style="margin: 0; padding: 15px; background: #f8f9fa; border-radius: 4px; border-left: 4px solid #007bff;">
                        {{ inspection.notes|linebreaks }}
                    </div>
                </div>
                {% endif %}

                {% if inspection.issues_found %}
                <div style="margin-bottom: 25px;">
                    <label style="display: block; font-weight: bold; color: #333; margin-bottom: 5px;">Issues Found:</label>
                    <div style="margin: 0; padding: 15px; background: #fff5f5; border-radius: 4px; border-left: 4px solid #dc3545; color: #721c24;">
                        {{ inspection.issues_found|linebreaks }}
                    </div>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Timeline -->
        <div>
            <div class="card">
                <div class="card-body">
                    <h4 style="color: #333; margin-bottom: 15px;">üïí Timeline</h4>
                    <div style="font-size: 14px; color: #666;">
                        <div style="margin-bottom: 10px;">
                            <strong>Created:</strong><br>
                            {{ inspection.created_at|date:"M d, Y g:i A" }}
                        </div>
                        <div>
                            <strong>Last Updated:</strong><br>
                            {{ inspection.updated_at|date:"M d, Y g:i A" }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}